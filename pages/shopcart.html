<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clayofstories</title>
    <link rel="icon" href="../imagesAll/indexPic/video-icon2.png">
    <link rel="stylesheet" href="../css/default-set.css">
    <link rel="stylesheet" href="../css/shopcart.css">
</head>

<body>
    <!-- 頁首區 -->
    <header class="topbar">
        <div class="container">
            <div class="left-bar">
                <div class="nav-box">
                    <button class="hamburger">
                        <span class="bar"></span>
                        <span class="bar"></span>
                        <span class="bar"></span>
                    </button>
                    <div class="navigation">
                        <ul class="menu">
                            <li><a href="../index.html">HOME</a></li>
                            <li><a href="./about.html">ABOUT</a></li>
                            <li><a href="./allproduct.html">PRODUCT</a></li>
                            <li><a href="./customintro.html">CUSTOM</a></li>
                            <li><a href="./contact.html">CONTACT</a></li>
                        </ul>
                    </div>
                </div>
                <h1 class="logo">
                    <a class="logo-s" href="../index.html"><img src="../imagesAll/indexPic/Logo-s.png" alt="品牌LOGO"></a>

                    <a class="logo-m" href="../index.html"><img src="../imagesAll/indexPic/newlogo.png"
                            alt="品牌LOGO"></a>
                </h1>

                <nav>
                    <ul class="menu">
                        <li><a href="../index.html" class="home">
                                <span class="translate-en">HOME</span>
                                <span class="translate-ch">首頁</span>
                            </a> </li>

                        <li><a href="./about.html" class="about">
                                <span class="translate-en">ABOUT</span>
                                <span class="translate-ch">關於</span>
                            </a></li>

                        <li class="product"> <a href="./allproduct.html" class="product">
                                <span class="translate-en">PRODUCT</span>
                                <span class="translate-ch">所有產品</span>
                            </a>

                            <!-- 下拉式選單 -->
                            <ul class="menu-drop-L">
                                <li>
                                    <a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon1.png" alt="" />
                                            <h3>VIEW ALL</h3>
                                        </div>
                                    </a>
                                </li>

                                <li><a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon2.png" alt="" />
                                            <h3>MIRROR</h3>
                                        </div>
                                    </a></li>

                                <li><a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon3.png" alt="" />
                                            <h3>TRAY</h3>
                                        </div>
                                    </a></li>

                                <li> <a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon4.png" alt="" />
                                            <h3>ACCESSORY</h3>
                                        </div>
                                    </a></li>

                                <li><a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon5.png" alt="" />
                                            <h3>VASE</h3>
                                        </div>
                                    </a></li>
                                <li><a href="./allproduct.html">
                                        <div class="drop-category">
                                            <img src="../imagesAll/indexPic/menu-icon6.png" alt="" />
                                            <h3>HOLDER</h3>
                                        </div>
                                    </a></li>
                            </ul>
                        </li>


                        <li><a href="./customintro.html" class="customized">
                                <span class="translate-en">CUSTOM</span>
                                <span class="translate-ch">客製化</span>
                            </a></li>
                        <li><a href="./contact.html" class="contact">
                                <span class="translate-en">CONTACT</span>
                                <span class="translate-ch">聯絡我們</span>
                            </a></li>
                    </ul>
                </nav>
            </div>

            <ul class="right-bar icon">
                <li><a href="./login.html" class="icon-user"></a></li>
                <li><a href="./fqa.html" class="icon-fqa"></a></li>
                <li><a href="./shopcart.html" class="icon-cart"></a></li>
            </ul>
        </div>

    </header>

    <main>
        <!-- Produt Title -->
        <div class="upper">
            <div class="vase-bkg"><img src="../imagesAll/images/product-title.png" alt=""></div>
            <h1>Cart</h1>
        </div>

        <!-- 購物車商品列表 -->
        <section class="shopping-cart">
            <div class="cart-container">
                <div id="root"></div>
            </div>
        </section>


    </main>

    <footer>
        <div class="footer-container">
            <!-- section 1 -->
            <div class="menu">
                <ul class="menu-1">
                    <li><a href="../index.html">HOME</a></li>
                    <li><a href="./about.html">ABOUT</a></li>
                    <li><a href="./allproduct.html">PRODUCT</a></li>

                </ul>

                <ul class="menu-2">
                    <li><a href="./customintro.html">CUSTOMIZED</a></li>
                    <li><a href="./contact.html">CONTACT</a></li>
                    <li><a href="./fqa.html">FAQ</a></li>
                </ul>

            </div>
            <div class="border-s border"></div>

            <!-- section 2 -->
            <div class="container">
                <ul class="icons">
                    <li><img src="../imagesAll/indexPic/footer-icon1.png" alt=""></li>
                    <li><img src="../imagesAll/indexPic/footer-icon2.png" alt=""></li>
                    <li><img src="../imagesAll/indexPic/footer-icon3.png" alt=""></li>
                </ul>

                <div class="border"></div>

                <p>Copyright © ClayOfStories 2024 All Rights Reserved</p>
            </div>

            <!-- section 3 -->
            <div class="information">
                <h4>CONTACT US</h4>
                <p>clayofstories@gmail.com</p>
                <p>0800-523-066</p>
                <ul class="social-media">
                    <li><a href="#" class="ig"></a></li>
                    <li><a href="#" class="line"></a></li>
                    <li><a href="#" class="fb"></a></li>
                </ul>
            </div>

            <div class="border-s border"></div>
            <div class="copyright-ms">
                <p>Copyright © ClayOfStories 2024 All Rights Reserved</p>
            </div>
        </div>



    </footer>
    <script src="https://unpkg.com/axios@1.6.7/dist/axios.min.js"></script>
    <!-- 載入REACT -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- 啟用jquery原生碼 -->
    <script src="../js/jquery/jquery-3.7.1.min.js"></script>
    <!-- 自訂的js -->
    <script src="../js/index.js"></script>


    <script type="text/babel">
        const { useState, useEffect } = React;

        function MyApp() {
            const [cart, setCart] = useState([]);

            useEffect(() => {
                const storedCart = JSON.parse(localStorage.getItem('cart')) || [];
                setCart(storedCart);
            }, []);

            const handleRemove = (index) => {
                const newCart = [...cart];
                newCart.splice(index, 1);
                setCart(newCart);
                localStorage.setItem('cart', JSON.stringify(newCart));
            };
            const getTotalAmount = () => {
                return cart.reduce((total, product) => total + product.price, 0);
            };

            return (
                <section className="cart">
                    <div className="probar">
                        <div className="pro-name">
                            <p>Order</p>
                        </div>
                        <div className="list-title">
                            <p>Price</p>
                            <p >Num</p>
                            <p>Total</p>
                            <span></span>
                        </div>
                    </div>
                    {
                        cart.length === 0 ?
                            (
                                <a className="suggestion" href="./allproduct.html">
                                    <img src="../imagesAll/indexPic/dog2.png" alt="" />
                                    <p>No products in your cart! Go Shopping!</p>
                                    <img src="../imagesAll/indexPic/dog4.png" alt="" />
                                </a>
                            ) :
                            (
                                cart.map((product, index) => (
                                    <div className="cart-product" key={product.id}>
                                        <div className="pro-title">
                                            <div>
                                                <img src={`../imagesAll/productsDetail/product${product.id}-a.JPG`} alt={product.name} />
                                            </div>
                                            <a href={`product.html?id=${product.id}`} key={product.id}>{product.name}</a>
                                        </div>

                                        <div className="prt-detail">
                                            <p>NT${product.price}</p>
                                            <p className="pro-num txt-center" value="1">1</p>
                                            <p className="pro-total">NT${product.price * 1}</p>
                                            <div>
                                                <button onClick={() => handleRemove(index)}>Remove</button>
                                            </div>
                                        </div>
                                    </div>
                                ))
                            )
                    }

                    {/* 訂單備註區域 */}
                    <div className="cus-detail">
                        <div className="cus-selection">
                            <div className="note">
                                <p>Note</p>
                                <textarea className="" id="" cols="30" rows="10"></textarea>
                            </div>

                            <div className="pack-infor">
                                <div className="store-selection">
                                    <p>Store Type</p>
                                    <select name="" id="">
                                        <option value="">Choose</option>
                                        <option value="">7-ELEVEN</option>
                                        <option value="">FamilyMart</option>
                                        <option value="">Hi-life</option>
                                    </select>
                                </div>

                                <div className="coupon">
                                    <p>Coupon</p>
                                    <select name="" id="">
                                        <option value="">Choose</option>
                                        <option value="">New friend(-NT$50)</option>
                                        <option value="">Happy brithday(-NT$50)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div className="store-chosen">
                            <button>Change Address</button>
                            <h5 className="store-name">信義門市</h5>
                            <p className="store-address">台北市大安區信義路四段265巷12弄1號
                            </p>
                            <div className="delivery-fee">
                                <h6>Delivery Fee:</h6>
                                <h6>&nbsp; NT$60</h6>
                            </div>
                        </div>

                    </div>

                    <div className="pay">
                        <div className="pay-selection">
                            <select className="" id="">
                                <option value="">Payment options</option>
                                <option value="">Credit Card</option>
                                <option value="">Transfer</option>
                            </select>
                        </div>
                        <div className="order-total">
                            <p>Total:${getTotalAmount()+60}</p>
                        </div>
                        <div className="pay-btn">
                            <button>Checkout</button>
                        </div>
                    </div>

                </section>
            );
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<MyApp />);
    </script>

</body>

</html>